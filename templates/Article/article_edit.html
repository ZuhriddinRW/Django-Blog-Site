<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Article</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans bg-[oklch(21%_0.034_264.665)] text-white min-h-screen">

<nav class="sticky top-0 z-10 flex items-center justify-between px-6 py-3.5 bg-black/25 backdrop-blur-[10px] border-b border-white/[0.08]">
    <a href="{% url 'home' %}"
       class="flex items-center gap-2.5 font-bold text-xl tracking-[0.2px] text-white no-underline">
        ✍️ Blog
    </a>
</nav>

<div class="py-10 px-5 max-w-[800px] mx-auto">
    <div class="mb-10">
        <h1 class="text-5xl font-bold mb-4">Edit Article</h1>
        <p class="text-xl text-[oklch(70.7%_.022_261.325)]">Update your article</p>
    </div>

    <div class="bg-white/[0.04] border border-white/[0.08] rounded-2xl p-8">
        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}

            <div>
                <label for="id_title" class="block mb-2 font-semibold text-[oklch(85%_.05_270)]">
                    Title
                </label>
                <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}"
                       class="w-full px-4 py-3 bg-white/[0.06] border border-white/10 rounded-xl text-white placeholder-[oklch(70%_.022_261.325)]/30 focus:border-[oklch(58.5%_.233_277.117)] focus:ring-2 focus:ring-[oklch(58.5%_.233_277.117)]/20 focus:outline-none transition-all"
                       placeholder="Enter your article title...">
                {% if form.title.errors %}
                <p class="mt-2 text-sm text-red-400">{{ form.title.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label for="id_summary" class="block mb-2 font-semibold text-[oklch(85%_.05_270)]">
                    Summary <span class="text-[oklch(60%_.022_261.325)] font-normal text-sm">(optional)</span>
                </label>
                <input type="text" name="summary" id="id_summary" value="{{ form.summary.value|default:'' }}"
                       class="w-full px-4 py-3 bg-white/[0.06] border border-white/10 rounded-xl text-white placeholder-[oklch(70%_.022_261.325)]/30 focus:border-[oklch(58.5%_.233_277.117)] focus:ring-2 focus:ring-[oklch(58.5%_.233_277.117)]/20 focus:outline-none transition-all"
                       placeholder="A brief description (max 50 characters)">
                <p class="mt-2 text-sm text-[oklch(60%_.022_261.325)]">A brief description of your article</p>
                {% if form.summary.errors %}
                <p class="mt-2 text-sm text-red-400">{{ form.summary.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label for="id_body" class="block mb-2 font-semibold text-[oklch(85%_.05_270)]">
                    Content
                </label>
                <textarea name="body" id="id_body" rows="12"
                          class="w-full px-4 py-3 bg-white/[0.06] border border-white/10 rounded-xl text-white placeholder-[oklch(70%_.022_261.325)]/30 focus:border-[oklch(58.5%_.233_277.117)] focus:ring-2 focus:ring-[oklch(58.5%_.233_277.117)]/20 focus:outline-none transition-all resize-y"
                          placeholder="Write your article content here...">{{ form.body.value|default:'' }}</textarea>
                {% if form.body.errors %}
                <p class="mt-2 text-sm text-red-400">{{ form.body.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label for="id_photo" class="block mb-2 font-semibold text-[oklch(85%_.05_270)]">
                    Cover Image <span class="text-[oklch(60%_.022_261.325)] font-normal text-sm">(optional)</span>
                </label>

                {% if form.instance.photo %}
                <div class="mb-4 p-4 bg-white/[0.03] border border-white/[0.08] rounded-xl">
                    <p class="text-sm text-[oklch(70%_.022_261.325)] mb-3">Current image:</p>
                    <img src="{{ form.instance.photo.url }}" alt="Current cover" class="max-w-[200px] rounded-lg">
                </div>
                {% endif %}

                <input type="file" name="photo" id="id_photo" accept="image/*"
                       class="w-full px-4 py-3 bg-white/[0.06] border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-[oklch(58.5%_.233_277.117)] file:text-white file:font-semibold hover:file:bg-[oklch(67.3%_.182_276.935)] file:cursor-pointer cursor-pointer focus:outline-none focus:border-[oklch(58.5%_.233_277.117)] focus:ring-2 focus:ring-[oklch(58.5%_.233_277.117)]/20 transition-all">
                <p class="mt-2 text-sm text-[oklch(60%_.022_261.325)]">Upload a new image to replace the current one</p>
                {% if form.photo.errors %}
                <p class="mt-2 text-sm text-red-400">{{ form.photo.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="flex gap-3 pt-6">
                <button type="submit"
                        class="flex-1 px-6 py-3 bg-[oklch(58.5%_.233_277.117)] text-white rounded-xl font-semibold hover:bg-[oklch(67.3%_.182_276.935)] hover:-translate-y-px transition-all duration-200">
                    Update Article
                </button>
                <a href="{% url 'article_detail' object.pk %}"
                   class="px-6 py-3 bg-white/[0.06] border border-white/10 text-white rounded-xl font-semibold hover:bg-white/[0.08] transition-all duration-200 no-underline flex items-center">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>

</body>
</html>